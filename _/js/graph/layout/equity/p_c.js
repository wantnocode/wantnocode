"use strict";function p_c_layout(){myDiagram.div=null,myDiagram.isVirtualized=!0,myDiagram=GO(go.Diagram,Diagram_name,{initialAutoScale:go.Diagram.Uniform,"undoManager.isEnabled":!0,"animationManager.isEnabled":!1,"commandHandler.archetypeGroupData":{text:"Group",isGroup:!0,color:"blue"},layout:GO(go.ForceDirectedLayout,{defaultSpringLength:50,defaultElectricalCharge:150})}),initOverview(),myDiagram.nodeTemplateMap.add("",GO(go.Node,"Vertical",new go.Binding("visible"),{visible:!0,layerName:"Foreground",click:function(e,n){var i=[];myDiagram.links.each(function(e){e.opacity=1,e.fromNode&&(e.fromNode.key!==n.key&&e.toNode&&e.toNode.key!==n.key?(console.log(e.opacity),e.opacity=.3):(-1==i.indexOf(e.fromNode.key)&&i.push(e.fromNode.key),e.toNode&&-1==i.indexOf(e.toNode.key)&&i.push(e.toNode.key)))}),myDiagram.nodes.each(function(e){-(e.opacity=1)==i.indexOf(e.key)&&(e.opacity=.3),0==i.length&&e.key==n.key&&(e.opacity=1)})},doubleClick:function(){send_newGraph("属性")}},new go.Binding("visible"),new go.Binding("location","loc",go.Point.parse).makeTwoWay(go.Point.stringify),GO(go.Picture,{source:"./img/triangle.svg",margin:new go.Margin(-10,-50,2,0),opacity:0},new go.Binding("source","isExpand",function(e){return 1==e?"./img/triangle_in.svg":2==e?"./img/triangle_out.svg":3==V?"./img/triangle.svg":void 0}),new go.Binding("opacity","isExpand",function(e){return 0<e?1:0})),GO(go.Shape,"Ellipse",{name:"node_shape",stroke:"#006ADF",fill:"#006ADF",width:60,cursor:"pointer",height:60,portId:"",strokeWidth:5},{toolTip:tooltipTemplate},new go.Binding("stroke","d_stroke"),new go.Binding("fill","d_fill"),new go.Binding("width"),new go.Binding("height")),GO(go.Picture,{name:"icon_enetity",source:"./img/account.svg",opacity:1},new go.Binding("source","icon",geoFunc),new go.Binding("width","width",function(e){return.5*e}),new go.Binding("height","height",function(e){return.5*e}),new go.Binding("margin","height",function(e){return new go.Margin(.8*-e,0,0,0)})),GO(go.Panel,"Auto",{margin:new go.Margin(14,0,0,0)},GO(go.Shape,"Rectangle",{fill:null,stroke:null,margin:0},new go.Binding("fill","isSelected",function(e){return e?"#FFC106":null}).ofObject("")),GO(go.TextBlock,{margin:3},new go.Binding("text","text"),new go.Binding("stroke","isSelected",function(e){return e?"#fff":"#333"}).ofObject(""))),{selectionAdorned:!1})),myDiagram.groupTemplate=GO(go.Group,"Vertical",{selectionObjectName:"PANEL",ungroupable:!0},GO(go.TextBlock,{font:"bold 30px sans-serif",isMultiline:!1,editable:!0},new go.Binding("text","text").makeTwoWay(),new go.Binding("stroke","color")),GO(go.Panel,"Auto",{name:"PANEL"},GO(go.Shape,"Rectangle",{fill:null,stroke:"#ccc",strokeWidth:3,portId:"",cursor:"pointer"}),GO(go.Placeholder,{margin:10,background:"transparent"}))),myDiagram.nodeTemplateMap.add("square",GO(go.Node,"Auto",GO(go.Shape,"RoundedRectangle",{width:120,height:64,fill:"#fff",stroke:"#D55500",strokeWidth:2},new go.Binding("fill"),new go.Binding("stroke")),GO(go.TextBlock,{name:"icon_label",opacity:1,margin:8,maxSize:new go.Size(200,NaN),wrap:go.TextBlock.WrapFit,stroke:"#D55500",editable:!0},new go.Binding("text").makeTwoWay()),new go.Binding("stroke"))),myDiagram.linkTemplate=GO(go.Link,{cursor:"pointer"},{doubleClick:function(){send_newGraph("属性")}},{toolTip:tooltipTemplate_link},GO(go.Shape,{name:"edge_standard",toArrow:"standard",stroke:"#BDBDBD",fill:"#BDBDBD",opacity:1},new go.Binding("stroke","stroke"),new go.Binding("fill","stroke")),GO(go.Shape,{name:"edge_shape",opacity:1,isPanelMain:!0,stroke:"#BDBDBD",strokeWidth:1,fill:"#BDBDBD"},new go.Binding("stroke","stroke"),new go.Binding("strokeWidth","width"),new go.Binding("stroke","patt",function(e){return""===e?"":"transparent"}),new go.Binding("pathPattern","patt",convertPathPatternToShape)),{},GO(go.TextBlock,{name:"edge_label",text:"",textAlign:"center",font:"10px helvetica, bold Arial, sans-serif",stroke:"#333",editable:!1,opacity:1,segmentOffset:new go.Point(10,NaN),segmentOrientation:go.Link.OrientUpleft,margin:4},new go.Binding("text"),new go.Binding("font","font"))),myDiagram.addDiagramListener("ChangedSelection",function(e){0==e.diagram.selection.count&&(myDiagram.nodes.each(function(e){e.opacity=1}),myDiagram.links.each(function(e){e.opacity=1}))})}